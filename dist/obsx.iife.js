var obsx=function(e){"use strict";const l=Symbol("info"),s=(n,i)=>{do i(n);while(n=n[l].prev)};e.ignored=!1;function g(n){let i=e.ignored;e.ignored=!0,n(),e.ignored=i}function a(n,i,u,r=[]){if(!e.ignored)for(let t of i[l][n].keys())r.includes(t)||(t(...u),r.push(t))}function v(n,i,u){let r=i[l][n];return r.set(u,0),()=>r.delete(u)}function h(n,i){let u=[];return s(n,r=>u.push(v("set",r,i))),()=>u.forEach(r=>r())}e.use=()=>{};function m(n){let i=[],u=()=>{for(let t of i)t();i=[];let r=e.use;e.use=t=>i.push(h(t,u)),n(),e.use=r};u()}function M(n){let i=[n],u=()=>i;return w(u,u,u)[0]}function w(n,i,u,r){return u[l]={prev:r,call:new Map,set:new Map},new Proxy(Object.defineProperty(u,"$",{get:n,set:i}),{get(t,o,_){if(o in u)return u[o];let c=w(()=>{var f;return e.use(c),(f=n())==null?void 0:f[o]},f=>{n()[o]=f;let d=[];s(c,b=>a("set",b,[],d))},(...f)=>{var b;e.use(c);let d=(b=n())==null?void 0:b[o](...f);return a("call",c,[f,d]),d},_);return u[o]=c}})}return e.bubble=s,e.emit=a,e.ignore=g,e.info=l,e.observe=M,e.on=v,e.run=m,e.watch=h,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),e}({});
